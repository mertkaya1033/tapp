(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return w}));var c=n(24),a=n.n(c),r=n(35),s=n(2),i=n(97),o=n(262),u=n(104),l=n(106),d=n(403),j="/api/v1",p={credentials:"same-origin",headers:{"Content-Type":"application/json"}},h=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var c;Object(i.a)(this,n);var a=e.message;return(c=t.call(this,a)).response=void 0,c.status=void 0,Error.captureStackTrace&&Error.captureStackTrace(Object(o.a)(c),b),c.response=e,c.status=e.status,c}return n}(Object(d.a)(Error)),b=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,c){Object(i.a)(this,n);var a="Got status ".concat(e.status," ").concat(e.statusText," when fetching ").concat(j+c);return t.call(this,Object(s.a)(Object(s.a)({},e),{},{message:a}))}return n}(h);function f(e){return e.startsWith("/")?e:"/"+e}function O(e,t){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(a.a.mark((function e(t,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=7;break}return e.next=3,t.json();case 3:if("success"===(c=e.sent).status){e.next=6;break}throw new h(Object(s.a)({message:"Server response did not have `status === 'success`"},c));case 6:return e.abrupt("return",c.payload);case 7:throw new b(t,n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(a.a.mark((function e(t){var n,c,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],t=f(t),e.next=4,fetch((n?"":j)+t,Object(s.a)(Object(s.a)({},p),{},{method:"GET"}));case 4:return c=e.sent,e.next=7,O(c,t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(a.a.mark((function e(t){var n,c,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},c=i.length>2&&void 0!==i[2]&&i[2],t=f(t),e.next=5,fetch((c?"":j)+t,Object(s.a)(Object(s.a)({},p),{},{method:"POST",body:JSON.stringify(n)}));case 5:return r=e.sent,e.next=8,O(r,t);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},712:function(e,t,n){},713:function(e,t,n){},714:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var c=n(0),a=n.n(c),r=(n(313),n(6)),s=n(24),i=n.n(s),o=n(35),u=n(34),l=n(572),d=n(1282),j=n(1279),p=n(100),h=(n(712),n(7));function b(e){return e.split(/\s+/).map((function(e){return e.charAt(0).toLocaleUpperCase()+e.slice(1)})).join(" ")}function f(){var e=Object(r.g)(),t=null===e||void 0===e?void 0:e.url_token,n=a.a.useState(null),c=Object(u.a)(n,2),s=c[0],f=c[1],O=a.a.useState(null),x=Object(u.a)(O,2),m=x[0],v=x[1],w=a.a.useState(""),y=Object(u.a)(w,2),g=y[0],k=y[1],S=a.a.useState(!1),C=Object(u.a)(S,2),N=C[0],A=C[1],T=a.a.useState(!1),F=Object(u.a)(T,2),D=F[0],_=F[1],H=["accepted","rejected","withdrawn"].includes((null===s||void 0===s?void 0:s.status)||"");function E(){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=m){e.next=2;break}throw new Error("Cannot submit a `null` decision");case 2:return n={decision:m,signature:g||null},e.next=5,Object(p.b)("/public/contracts/".concat(t,"/").concat(m),n,!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,E();case 3:_(!1),window.location.reload(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(a.a.useEffect((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.a)("/public/contracts/".concat(t,"/details"),!0);case 3:n=e.sent,f(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f,t]),null==t)return Object(h.jsx)(a.a.Fragment,{children:"Unknown URL token."});if(null==s)return Object(h.jsx)(a.a.Fragment,{children:"Loading..."});var U=s.position_code,B=s.status;return Object(h.jsxs)("div",{className:"contract-page",children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("h1",{children:["Offer of Teaching Assistantship for ",U]})}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("div",{className:"decision",children:[Object(h.jsx)("h3",{children:Object(h.jsx)(l.a,{href:"/public/contracts/".concat(t,".pdf"),role:"button",children:"Download PDF"})}),Object(h.jsxs)("h1",{children:["Status:",Object(h.jsxs)("span",{className:"".concat(B," capitalize"),children:[" ",b(B)]})]}),Object(h.jsxs)("form",{id:"decision",children:[Object(h.jsx)("h3",{children:"I hereby accept the Teaching Assistantship position offered:"}),Object(h.jsxs)("div",{className:"decision-container",children:[Object(h.jsx)("input",{checked:"accept"===m,onChange:function(){return v("accept")},type:"radio",value:"accept",id:"radio-accept",name:"decision",disabled:H}),Object(h.jsx)("label",{htmlFor:"radio-accept",children:"Accept"}),Object(h.jsx)("input",{checked:"reject"===m,onChange:function(){return v("reject")},type:"radio",value:"reject",id:"radio-reject",name:"decision",disabled:H}),Object(h.jsx)("label",{htmlFor:"radio-reject",children:"Reject"}),Object(h.jsx)("div",{className:"signature",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{htmlFor:"signature_name",children:[Object(h.jsx)("p",{children:"I confirm that I will be registered as a University of Toronto student or PDF on the date that this appointment begins. I understand that if I should cease to be registered as a University of Toronto student or PDF during the period of this appointment, for any reason other than convocation, I must immediately notify my supervisor, and my appointment may be terminated."}),Object(h.jsx)("p",{children:"To accept this contract, type your initials:"})]}),Object(h.jsx)("input",{type:"text",name:"signature_name",id:"signature_name",maxLength:300,value:g,onChange:function(e){return k(e.target.value)}}),Object(h.jsx)("div",{className:"input-placeholder",children:"."})]})}),Object(h.jsx)(l.a,{disabled:null==m||"accept"===m&&""===g,title:null==m?"You must choose to accept or reject the contract in order to submit":"accept"===m&&""===g?"You must sign your name to accept the offer":"Submit your decision",onClick:function(){return A(!0)},children:"Submit"})]})]}),Object(h.jsx)("div",{className:"admonishment",children:Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Important:"})," In order to arrange payroll, if this is your first TA-ship or your SIN number has been changed since your last TA-ship, you must supply the department office with appropriate documentation."]})})]}),Object(h.jsx)("div",{className:"contract-view",children:Object(h.jsx)("iframe",{title:"Contract",src:"/public/contracts/".concat(t)})})]}),Object(h.jsxs)(d.a,{show:N,onHide:function(){return A(!1)},children:[Object(h.jsx)(d.a.Header,{closeButton:!0,children:Object(h.jsxs)(d.a.Title,{children:[b(m||"")," Offer"]})}),Object(h.jsxs)(d.a.Body,{children:["Are you sure you want to ",Object(h.jsx)("b",{children:m})," the TA-ship for this offer?"]}),Object(h.jsxs)(d.a.Footer,{children:[Object(h.jsx)(l.a,{variant:"secondary",onClick:function(){return A(!1)},children:"Cancel"}),Object(h.jsxs)(l.a,{onClick:function(){return L.apply(this,arguments)},children:[D?Object(h.jsx)("span",{className:"spinner-surround",children:Object(h.jsx)(j.a,{animation:"border",size:"sm"})}):null,b(m||"")," Offer"]})]})]})]})}n(713);function O(){var e=Object(r.g)(),t=null===e||void 0===e?void 0:e.url_token,n=a.a.useState(null),c=Object(u.a)(n,2),s=c[0],b=c[1],f=a.a.useState(null),O=Object(u.a)(f,2),x=O[0],m=O[1],v=a.a.useState(""),w=Object(u.a)(v,2),y=w[0],g=w[1],k=a.a.useState(!1),S=Object(u.a)(k,2),C=S[0],N=S[1],A=a.a.useState(!1),T=Object(u.a)(A,2),F=T[0],D=T[1],_=["acknowledged"].includes((null===s||void 0===s?void 0:s.status)||"");function H(){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=x){e.next=2;break}throw new Error("Cannot submit a `null` decision");case 2:return n={decision:x,signature:y||null},e.next=5,Object(p.b)("/public/ddahs/".concat(t,"/").concat(x),n,!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,H();case 3:D(!1),window.location.reload(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(a.a.useEffect((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.a)("/public/ddahs/".concat(t,"/details"),!0);case 3:n=e.sent,b(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b,t]),null==t)return Object(h.jsx)(a.a.Fragment,{children:"Unknown URL token."});if(null==s)return Object(h.jsx)(a.a.Fragment,{children:"Loading..."});var L,U=s.position_code,B=s.status;return Object(h.jsxs)("div",{className:"contract-page",children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("h1",{children:["Description of Duties and Allocation of Hours for"," ",U]})}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("div",{className:"decision",children:[Object(h.jsx)("h3",{children:Object(h.jsx)(l.a,{href:"/public/ddahs/".concat(t,".pdf"),role:"button",children:"Download PDF"})}),Object(h.jsxs)("h1",{children:["Status:",Object(h.jsxs)("span",{className:"".concat(B," capitalize"),children:[" ",(L=B,L.split(/\s+/).map((function(e){return e.charAt(0).toLocaleUpperCase()+e.slice(1)})).join(" "))]})]}),Object(h.jsxs)("form",{id:"decision",children:[Object(h.jsx)("h3",{children:"Please acknowledge receipt of this Description of Duties and Allocation of Hours form below. If there are any issues with your described duties or you need further clarification, please contact your course supervisor(s)."}),Object(h.jsxs)("div",{className:"decision-container",children:[Object(h.jsx)("input",{checked:"accept"===x,onChange:function(){return m("accept")},type:"radio",value:"accept",id:"radio-accept",name:"decision",disabled:_}),Object(h.jsx)("label",{htmlFor:"radio-accept",children:"Acknowledge"}),Object(h.jsx)("div",{className:"signature",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"signature_name",children:Object(h.jsx)("p",{children:"To confirm your acknowledgement, please type your name below."})}),Object(h.jsx)("input",{type:"text",name:"signature_name",id:"signature_name",maxLength:300,value:y,onChange:function(e){return g(e.target.value)}}),Object(h.jsx)("div",{className:"input-placeholder",children:"."})]})}),Object(h.jsx)(l.a,{disabled:null==x||"accept"===x&&""===y,title:null==x?"You must choose to accept or reject the contract in order to submit":"accept"===x&&""===y?"You must sign your name to accept the offer":"Submit your decision",onClick:function(){return N(!0)},children:"Submit"})]})]}),Object(h.jsx)("div",{className:"admonishment"})]}),Object(h.jsx)("div",{className:"contract-view",children:Object(h.jsx)("iframe",{title:"Contract",src:"/public/ddahs/".concat(t)})})]}),Object(h.jsxs)(d.a,{show:C,onHide:function(){return N(!1)},children:[Object(h.jsx)(d.a.Header,{closeButton:!0,children:Object(h.jsx)(d.a.Title,{children:"Acknowledge DDAH"})}),Object(h.jsxs)(d.a.Body,{children:["Are you sure you want to ",Object(h.jsx)("b",{children:"acknowledge"})," the DDAH?"]}),Object(h.jsxs)(d.a.Footer,{children:[Object(h.jsx)(l.a,{variant:"secondary",onClick:function(){return N(!1)},children:"Cancel"}),Object(h.jsxs)(l.a,{onClick:function(){return I.apply(this,arguments)},children:[F?Object(h.jsx)("span",{className:"spinner-surround",children:Object(h.jsx)(j.a,{animation:"border",size:"sm"})}):null,"Acknowledge DDAH"]})]})]})]})}var x=n(330);n(714);function m(e){var t=JSON.stringify(e);return t=t.replaceAll('"isRequired":true','"isRequired":false'),JSON.parse(t)}function v(){var e=Object(r.g)(),t=null===e||void 0===e?void 0:e.url_token,n=a.a.useState(null),c=Object(u.a)(n,2),s=c[0],b=c[1],f=a.a.useState(null),O=Object(u.a)(f,2),v=O[0],w=O[1],y=a.a.useState(null),g=Object(u.a)(y,2),k=g[0],S=g[1],C=a.a.useState(!1),N=Object(u.a)(C,2),A=N[0],T=N[1],F=a.a.useState(!1),D=Object(u.a)(F,2),_=D[0],H=D[1],E=a.a.useState(!1),I=Object(u.a)(E,2),L=I[0],U=I[1];a.a.useEffect((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.a)("/public/postings/".concat(t),!0);case 3:n=e.sent,b(m(n.survey)),w(n.prefilled_data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}null!=t&&function(){e.apply(this,arguments)}()}),[t,b,w]);var B=a.a.useMemo((function(){x.StylesManager.applyTheme("bootstrap"),x.defaultBootstrapCss.navigationButton="btn btn-primary";var e=new x.Model(s);return e.showPreviewBeforeComplete="showAnsweredQuestions",e.showQuestionNumbers="off",e.data=k||v,_&&setTimeout((function(){return e.doComplete()}),0),e}),[s,k,v,_]);if(a.a.useEffect((function(){B.onCompleting.add((function(e,t){_||(t.allowComplete=!1,S(e.data),T(!0),setTimeout((function(){return B.showPreview()}),0))}))}),[B,S,T,_]),null==t)return Object(h.jsx)(a.a.Fragment,{children:"Unknown URL token."});if(null==s||null==v)return Object(h.jsx)(a.a.Fragment,{children:"Loading..."});function P(){return(P=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Submitting data",k),e.prev=1,U(!0),e.next=5,Object(p.b)("/public/postings/".concat(t,"/submit"),{answers:k},!0);case 5:H(!0),B.doComplete(),S(v),T(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.warn(e.t0);case 14:return e.prev=14,U(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function R(){B.data=k||B.data,H(!1),T(!1)}return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(x.Survey,{model:B}),Object(h.jsxs)(d.a,{show:A,onHide:R,children:[Object(h.jsx)(d.a.Header,{closeButton:!0,children:Object(h.jsx)(d.a.Title,{children:"Submit Application"})}),Object(h.jsx)(d.a.Body,{children:"Are you sure you want to submit this TA application?"}),Object(h.jsxs)(d.a.Footer,{children:[Object(h.jsx)(l.a,{variant:"secondary",onClick:R,children:"Cancel"}),Object(h.jsxs)(l.a,{onClick:function(){return P.apply(this,arguments)},children:[L?Object(h.jsx)("span",{className:"spinner-surround",children:Object(h.jsx)(j.a,{animation:"border",size:"sm"})}):null,"submit"]})]})]})]})}function w(){return Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{path:"/public/contracts/:url_token",children:Object(h.jsx)(f,{})}),Object(h.jsx)(r.b,{path:"/public/ddahs/:url_token",children:Object(h.jsx)(O,{})}),Object(h.jsx)(r.b,{path:"/public/postings/:url_token",children:Object(h.jsx)(v,{})})]})}function y(){return Object(h.jsx)(w,{})}}}]);
//# sourceMappingURL=10.55fefa09.chunk.js.map